#!/bin/bash
if [[ $# != 1 ]]; then
    echo 'please append project name for var $1'
    echo "usage example: run test-program"
    exit 1
fi

project_name=$1
cmake ..
if [[ $? != 0 ]]; then
    echo "ERROR CMAKE"
    exit 1
fi
make
if [[ $? != 0 ]]; then
    echo "ERROR MAKE"
    exit 1
fi
echo "COMPILATION SUCCESSFUL"
echo "running $project_name ..."
echo " "
./$project_name
echo "$project_name has been exited with code: $?" 
